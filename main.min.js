(()=>{"use strict";var e,t={4270:(e,t,o)=>{o(4750),o(4994),o(853),o(6208),o(8821),o(3290),o(4845),o(5007),o(9275),o(6364),o(6632),o(1928),o(4883),o(8995);var n=o(6075),r=o(3653),i=o(636);o(6543),o(3142),o(174);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function l(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(r=n.key,i=void 0,i=function(e,t){if("object"!==a(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===a(i)?i:String(i)),n)}var r,i}function s(e,t,o){return t&&l(e.prototype,t),o&&l(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}var c=s((function e(t){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.moving=!1,t.gltfLoader.load(t.modelSrc,(function(e){e.scene.traverse((function(e){e.isMesh&&(e.castShadow=!0)})),o.modelMesh=e.scene.children[0],o.modelMesh.position.y=.3,o.modelMesh.name="babo",t.scene.add(o.modelMesh),t.meshes.push(o.modelMesh),o.actions=[],o.mixer=new n.Xcj(o.modelMesh),o.actions[0]=o.mixer.clipAction(e.animations[0]),o.actions[1]=o.mixer.clipAction(e.animations[1]),o.actions[0].play()}))}));function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function f(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(r=n.key,i=void 0,i=function(e,t){if("object"!==u(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===u(i)?i:String(i)),n)}var r,i}function d(e,t,o){return t&&f(e.prototype,t),o&&f(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}var m=d((function e(t){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=t.x,this.y=t.y,this.z=t.z,this.visible=!1,t.gltfLoader.load(t.modelSrc,(function(e){o.modelMesh=e.scene.children[0],o.modelMesh.castShadow=!0,o.modelMesh.position.set(o.x,o.y,o.z),t.scene.add(o.modelMesh),o.modelMesh.name="airplane"}))}));function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function p(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(r=n.key,i=void 0,i=function(e,t){if("object"!==y(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!==y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===y(i)?i:String(i)),n)}var r,i}function h(e,t,o){return t&&p(e.prototype,t),o&&p(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}var b=h((function e(t){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=t.x,this.y=t.y,this.z=t.z,this.visible=!1,t.gltfLoader.load(t.modelSrc,(function(e){o.modelMesh=e.scene.children[0],o.modelMesh.castShadow=!0,o.modelMesh.position.set(o.x,o.y,o.z),t.scene.add(o.modelMesh),o.modelMesh.name="airplane"}))}));function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function w(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(r=n.key,i=void 0,i=function(e,t){if("object"!==v(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!==v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===v(i)?i:String(i)),n)}var r,i}function g(e,t,o){return t&&w(e.prototype,t),o&&w(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}var S=g((function e(t){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=t.x,this.y=t.y,this.z=t.z,this.visible=!1,t.gltfLoader.load(t.modelSrc,(function(e){o.modelMesh=e.scene.children[0],o.modelMesh.castShadow=!0,o.modelMesh.position.set(o.x,o.y,o.z),t.scene.add(o.modelMesh)}))}));function M(e){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M(e)}function x(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(r=n.key,i=void 0,i=function(e,t){if("object"!==M(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!==M(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===M(i)?i:String(i)),n)}var r,i}function j(e,t,o){return t&&x(e.prototype,t),o&&x(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}var P=j((function e(t){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=t.x,this.y=t.y,this.z=t.z,this.visible=!1,t.gltfLoader.load(t.modelSrc,(function(e){o.modelMesh=e.scene.children[0],o.modelMesh.castShadow=!0,o.modelMesh.position.set(o.x,o.y,o.z),t.scene.add(o.modelMesh)}))}));function z(e){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(e)}function O(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(r=n.key,i=void 0,i=function(e,t){if("object"!==z(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!==z(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===z(i)?i:String(i)),n)}var r,i}function E(e,t,o){return t&&O(e.prototype,t),o&&O(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}var L=E((function e(t){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=t.x,this.y=t.y,this.z=t.z,this.visible=!1,t.gltfLoader.load(t.modelSrc,(function(e){o.modelMesh=e.scene.children[0],o.modelMesh.castShadow=!0,o.modelMesh.position.set(o.x,o.y,o.z),t.scene.add(o.modelMesh)}))}));function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function T(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(r=n.key,i=void 0,i=function(e,t){if("object"!==k(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!==k(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===k(i)?i:String(i)),n)}var r,i}function C(e,t,o){return t&&T(e.prototype,t),o&&T(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}var W=C((function e(t){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=t.x,this.y=t.y,this.z=t.z,this.visible=!1,t.gltfLoader.load(t.modelSrc,(function(e){o.modelMesh=e.scene.children[0],o.modelMesh.castShadow=!0,o.modelMesh.position.set(o.x,o.y,o.z),t.scene.add(o.modelMesh)}))}));function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function H(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(r=n.key,i=void 0,i=function(e,t){if("object"!==A(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!==A(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===A(i)?i:String(i)),n)}var r,i}function I(e,t,o){return t&&H(e.prototype,t),o&&H(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}var N=I((function e(t){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=t.x,this.y=t.y,this.z=t.z,this.visible=!1,t.gltfLoader.load(t.modelSrc,(function(e){o.modelMesh=e.scene.children[0],o.modelMesh.castShadow=!0,o.modelMesh.position.set(o.x,o.y,o.z),t.scene.add(o.modelMesh)}))})),_=o(5435);function K(e,t){var o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=function(e,t){if(!e)return;if("string"==typeof e)return F(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return F(e,t)}(e))||t&&e&&"number"==typeof e.length){o&&(e=o);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==o.return||o.return()}finally{if(l)throw i}}}}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}var Z=(new n.dpR).load("/images/grid.png");Z.wrapS=n.rpg,Z.wrapT=n.rpg,Z.repeat.x=10,Z.repeat.y=10;var B=document.querySelector("#three-canvas"),R=new n.CP7({canvas:B,antialias:!0});R.setSize(window.innerWidth,window.innerHeight),R.setPixelRatio(window.devicePixelRatio>1?2:1),R.shadowMap.enabled=!0,R.shadowMap.type=n.ntZ;var X=new n.xsS,Y=new n.iKG(-window.innerWidth/window.innerHeight,window.innerWidth/window.innerHeight,1,-1,-1e3,1e3),q=new n.Pa4(1,5,5);Y.position.set(q.x,q.y,q.z),Y.zoom=.2,Y.updateProjectionMatrix(),X.add(Y);var D=new n.Mig("white",.7);X.add(D);var U=new n.Ox3("white",.5),G=new n.Pa4(1,1,1);U.position.x=G.x,U.position.y=G.y,U.position.z=G.z,U.castShadow=!0,U.shadow.mapSize.width=2048,U.shadow.mapSize.height=2048,U.shadow.camera.left=-100,U.shadow.camera.right=100,U.shadow.camera.top=100,U.shadow.camera.bottom=-100,U.shadow.camera.near=-100,U.shadow.camera.far=100,X.add(U);var J=new r.q3;J.gravity.set(0,-9.82,0);var $=[],Q=new n.Kj0(new n._12(100,100),new n.Wid({color:11786398}));Q.name="floor",Q.rotation.x=-Math.PI/2,Q.receiveShadow=!0,X.add(Q),$.push(Q);var V=new n.Kj0(new n._12(1,1),new n.vBJ({color:"crimson",transparent:!0,opacity:0}));V.rotation.x=-Math.PI/2,V.position.y=.01,V.receiveShadow=!0,X.add(V);var ee=new n.Kj0(new n._12(3,3),new n.Wid({color:"yellow",transparent:!0,opacity:0}));ee.position.set(-5,.005,-10),ee.rotation.x=-Math.PI/2,ee.receiveShadow=!0,X.add(ee);var te=new n.Kj0(new n._12(5,5),new n.Wid({color:"blue",transparent:!0,opacity:0}));te.position.set(-5,.005,-15),te.rotation.x=-Math.PI/2,te.receiveShadow=!0,X.add(te);var oe=new n.Kj0(new n._12(1,1),new n.Wid({color:"blue",transparent:!0,opacity:0}));oe.position.set(3,.005,-10),oe.rotation.x=-Math.PI/2,oe.receiveShadow=!0,X.add(oe);var ne=new n.Kj0(new n._12(2,3),new n.Wid({color:"blue",transparent:!0,opacity:.5}));ne.position.set(-14,.005,-5),ne.rotation.x=-Math.PI/2,ne.receiveShadow=!0,X.add(ne);var re=new i.E,ie=new m({gltfLoader:re,scene:X,modelSrc:"/models/airplane.glb",x:-5,y:-1.3,z:-13}),ae=new c({scene:X,meshes:$,gltfLoader:re,modelSrc:"/models/babo.glb"}),le=(new b({gltfLoader:re,scene:X,meshes:$,modelSrc:"/models/street.glb",x:-1,y:0,z:-3}),new S({gltfLoader:re,scene:X,meshes:$,modelSrc:"/models/trees.glb",x:5,y:0,z:-12.5}),new P({gltfLoader:re,scene:X,meshes:$,modelSrc:"/models/trees2.glb",x:-10,y:0,z:-9.5}),new L({gltfLoader:re,scene:X,meshes:$,modelSrc:"/models/trees3.glb",x:-13.5,y:0,z:3}),new W({gltfLoader:re,scene:X,meshes:$,modelSrc:"/models/desk.glb",x:-14,y:-.45,z:-5}),new N({gltfLoader:re,scene:X,meshes:$,modelSrc:"/models/note.glb",x:3,y:.5,z:-10}),new n.iMs),se=new n.FM8,ce=new n.Pa4,ue=0,fe=!1,de=new n.SUY;function me(e){se.x=e.clientX/B.clientWidth*2-1,se.y=-(e.clientY/B.clientHeight*2-1)}window.addEventListener("resize",(function(){Y.left=-window.innerWidth/window.innerHeight,Y.right=window.innerWidth/window.innerHeight,Y.top=1,Y.bottom=-1,Y.updateProjectionMatrix(),R.setSize(window.innerWidth,window.innerHeight),R.render(X,Y)})),B.addEventListener("mousedown",(function(e){fe=!0,me(e)})),B.addEventListener("mouseup",(function(){fe=!1})),B.addEventListener("mousemove",(function(e){fe&&me(e)})),B.addEventListener("touchstart",(function(e){fe=!0,me(e.touches[0])})),B.addEventListener("touchend",(function(){fe=!1})),B.addEventListener("touchmove",(function(e){fe&&me(e.touches[0])}));function ye(){Swal.fire({title:"Hint!",text:"왼쪽으로 세 발자국, 앞으로 한 발자국 이동해보세요.",confirmButtonColor:"#B3D89E"})}B.addEventListener("click",(function(e){var t={x:e.clientX/B.clientWidth*2-1,y:-e.clientY/B.clientHeight*2+1},o=new n.iMs;o.setFromCamera(t,Y),o.intersectObjects(X.children,!0).forEach((function(e){e.object===te&&window.open("https://lvspndrs.github.io/airplanegame/")}))})),oe.addEventListener("click",ye),B.addEventListener("click",(function(){le.setFromCamera(se,Y);var e,t=K(le.intersectObjects(X.children,!0));try{for(t.s();!(e=t.n()).done;){if(e.value.object===oe){ye();break}}}catch(e){t.e(e)}finally{t.f()}})),function e(){var t=de.getDelta();J.step(1/60,t,3),ae.mixer&&ae.mixer.update(t),ae.modelMesh&&Y.lookAt(ae.modelMesh.position),ae.modelMesh&&(fe&&(le.setFromCamera(se,Y),function(){var e,t=K(le.intersectObjects($));try{for(t.s();!(e=t.n()).done;){var o=e.value;"floor"===o.object.name&&(ce.x=o.point.x,ce.y=.3,ce.z=o.point.z,ae.modelMesh.lookAt(ce),ae.moving=!0,V.position.x=ce.x,V.position.z=ce.z);break}}catch(e){t.e(e)}finally{t.f()}}()),ae.moving?(ue=Math.atan2(ce.z-ae.modelMesh.position.z,ce.x-ae.modelMesh.position.x),ae.modelMesh.position.x+=.05*Math.cos(ue),ae.modelMesh.position.z+=.05*Math.sin(ue),Y.position.x=q.x+ae.modelMesh.position.x,Y.position.z=q.z+ae.modelMesh.position.z,ae.actions[0].stop(),ae.actions[1].play(),Math.abs(ce.x-ae.modelMesh.position.x)<.03&&Math.abs(ce.z-ae.modelMesh.position.z)<.03&&(ae.moving=!1),Math.abs(ee.position.x-ae.modelMesh.position.x)<1.5&&Math.abs(ee.position.z-ae.modelMesh.position.z)<1.5?ie.visible||(ie.visible=!0,ee.material.color.set("seagreen"),_.ZP.to(ie.modelMesh.position,{duration:1,y:3,ease:"Bounce.easeOut"}),_.ZP.to(Y.position,{duration:1,y:3})):ie.visible&&(ie.visible=!1,ee.material.color.set("yellow"),_.ZP.to(ie.modelMesh.position,{duration:.5,y:-2.5}),_.ZP.to(Y.position,{duration:1,y:5}))):(ae.actions[1].stop(),ae.actions[0].play())),R.render(X,Y),R.setAnimationLoop(e)}()}},o={};function n(e){var r=o[e];if(void 0!==r)return r.exports;var i=o[e]={exports:{}};return t[e].call(i.exports,i,i.exports,n),i.exports}n.m=t,e=[],n.O=(t,o,r,i)=>{if(!o){var a=1/0;for(u=0;u<e.length;u++){for(var[o,r,i]=e[u],l=!0,s=0;s<o.length;s++)(!1&i||a>=i)&&Object.keys(n.O).every((e=>n.O[e](o[s])))?o.splice(s--,1):(l=!1,i<a&&(a=i));if(l){e.splice(u--,1);var c=r();void 0!==c&&(t=c)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[o,r,i]},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={179:0};n.O.j=t=>0===e[t];var t=(t,o)=>{var r,i,[a,l,s]=o,c=0;if(a.some((t=>0!==e[t]))){for(r in l)n.o(l,r)&&(n.m[r]=l[r]);if(s)var u=s(n)}for(t&&t(o);c<a.length;c++)i=a[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(u)},o=self.webpackChunkthreejs_study=self.webpackChunkthreejs_study||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var r=n.O(void 0,[770],(()=>n(4270)));r=n.O(r)})();